---
- hosts: all
  remote_user: ubuntu  # TODO: Should be lorebot user, which needs a keypair
  become: yes
  # roles:
  # - role: sansible.golang  # install go
  # sansible_golang_workspace_user: lorebot
  # Example git checkout from Ansible Playbooks
  tasks:
  - name: Clone repo
    git:
      repo: 'git@github.com:mbc1990/lore.git'
      version: master
      dest: /home/ubuntu/  # TODO: Should be lorebot user

  # TODO: Build lorebot
  # TODO: How to handle config? Upload from local?
  # TODO: Ensure systemd module exists
  # TODO: Restart systemd module
  # TODO: Alert slack that a new version of lorebot is in production
